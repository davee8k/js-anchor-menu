/**
 * jQuery Anchor Menu for single pages
 *
 * @author DaVee8k
 * @version 0.4.0
 * @license https://unlicense.org/
 */
!function(o){o.fn.anchorMenu=function(t){var a=this;this.historyIE=void 0===history.pushState&&window.location,this.activeClass=void 0!==t.activeClass?t.activeClass:"active",this.easing=void 0!==t.easing?t.easing:"swing",this.parentElm=void 0!==t.parent?t.parent:"li",this.onStart=void 0===t.onStart||t.onStart,this.speed=void 0!==t.speed?t.speed:1,this.padding=void 0!==t.padding?t.padding:0,this.include=void 0!==t.include?t.include:[],this.checkBox=void 0!==t.checkBox&&t.checkBox,this.active=!1,this.isActive=!1,this.list={},this.scrollTo=function(i,s,h,t){this.isActive=!0;var n=o(window).scrollTop(),e=this.getPosition(i);e<0&&(e=0),o("html, body").stop(!0).animate({scrollTop:e+"px"},!0===t?10:Math.round(Math.abs(n-e)*this.speed),this.easing,function(){var t;!0===a.isActive&&void 0!==s&&(a.setActive(s,!0),a.isActive=!1,t=a.getPosition(i),h&&o(window).scrollTop()!=0<t&&t&&a.scrollTo(i,s,!1))})},this.setActive=function(t,i){var s;this.active=t,this.activeClass&&(o(this).find(this.parentElm||"a").removeClass(this.activeClass),s=this.parentElm?o(t).closest(this.parentElm):t,o(s).addClass(this.activeClass)),i&&!this.isActive&&this.setHistory(t)},this.setHistory=function(t){void 0!==history.pushState?history.pushState({},document.title,o(t).prop("href")):this.historyIE=o(t)[0]},this.getExistingHash=function(t){var i=/\/index.php($|\/)/i,s=/\/$/,h=window.location,n=o(t)[0],t=("/"===n.pathname.charAt(0)?"":"/")+n.pathname;return!(n.hostname&&n.hostname!==h.hostname||n.search!==h.search||t.replace(i,"/").replace(s,"")!==h.pathname.replace(i,"/").replace(s,""))&&(!1===n.hash?"":n.hash)},this.getPadding=function(){return this.padding?parseInt(this.padding)===this.padding?this.padding:o(this.padding).height():0},this.getPosition=function(t){return t&&0!==o(t).length?Math.round(o(t).offset().top-this.getPadding()):0},this.clickEvent=function(t,i){var s=this.getExistingHash(i);return!1===s||(!1!==this.checkBox&&o(this.checkBox).is(":checked")&&o(this.checkBox).click(),(s!==window.location.hash||""===s&&1<o(window).scrollTop()||!1!==this.historyIE&&s!==this.historyIE.hash)&&(t.preventDefault(),this.scrollTo(s,i,!0),this.setHistory(i)),!1)},this.scrollEvent=function(){var i=!1,s=0,h=o(window).scrollTop()+this.getPadding();h<=this.getPadding()&&(h=0),this.list.each(function(){var t=a.getExistingHash(this);t&&0!==o(t).length?(t=Math.round(o(t).offset().top))<=h&&(!1===i||s<t)&&(s=t,i=this):!1===i&&(i=this)}),i&&i!==this.active&&this.setActive(i,!1)},this.loadInclude=function(t){o(t).find("a").each(function(){var t=a.getExistingHash(this);!1!==t&&o(this).click(function(){return a.scrollTo(t,this,!0),!1})})},this.load=function(){for(var t in this.list=o(this).find((this.parentElm?this.parentElm+" ":"")+"a"),0!==this.list.length&&o(this.list).click(function(t){return a.clickEvent(t,this)}),this.include)this.loadInclude(this.include[t])},this.load(),this.activeClass&&o(window).scroll(function(){a.scrollEvent()});t=window.location.hash;this.onStart&&0===o(this).find(this.activeClass).length&&(0===t.length?o(this).find(this.parentElm+":first-child"):o(this).find("a[href$='"+t+"']").closest(this.parentElm)).addClass(this.activeClass),0<t.length&&this.scrollTo(t,void 0,!1,!0)}}(jQuery);