/**
 * Jquery Anchor Menu for single pages
 *
 * @author DaVee8k
 * @version 0.3.1
 * @license WTFNMFPL 1.0
 */
!function(a){a.fn.anchorMenu=function(t){var e=this;this.historyIE=void 0===history.pushState&&window.location,this.activeClass=void 0!==t.activeClass?t.activeClass:"active",this.easing=void 0!==t.easing?t.easing:"swing",this.parentElm=void 0!==t.parent?t.parent:"li",this.onStart=void 0===t.onStart||t.onStart,this.speed=void 0!==t.speed?t.speed:1,this.padding=void 0!==t.padding?t.padding:0,this.include=void 0!==t.include?t.include:[],this.active=!1,this.isActive=!1,this.list={},this.scrollTo=function(i,s,n){this.isActive=!0;var t=a(window).scrollTop(),h=this.getPosition(i);h<0&&(h=0),a("html, body").stop(!0).animate({scrollTop:h+"px"},Math.round(Math.abs(t-h)*this.speed),this.easing,function(){var t;!0===e.isActive&&void 0!==s&&(e.setActive(s,!0),e.isActive=!1,t=e.getPosition(i),n&&a(window).scrollTop()!=0<t&&t&&e.scrollTo(i,s,!1))})},this.setActive=function(t,i){var s;this.active=t,this.activeClass&&(a(this).find(this.parentElm||"a").removeClass(this.activeClass),s=this.parentElm?a(t).closest(this.parentElm):t,a(s).addClass(this.activeClass)),i&&!this.isActive&&this.setHistory(t)},this.setHistory=function(t){void 0!==history.pushState?history.pushState({},document.title,a(t).prop("href")):this.historyIE=a(t)[0]},this.getExistingHash=function(t){var i=/\/index.php($|\/)/i,s=/\/$/,n=window.location,h=a(t)[0],t=("/"===h.pathname.charAt(0)?"":"/")+h.pathname;return!(h.hostname&&h.hostname!==n.hostname||h.search!==n.search||t.replace(i,"/").replace(s,"")!==n.pathname.replace(i,"/").replace(s,""))&&(!1===h.hash?"":h.hash)},this.getPadding=function(){return this.padding?parseInt(this.padding)===this.padding?this.padding:a(this.padding).height():0},this.getPosition=function(t){return t&&0!==a(t).length?Math.round(a(t).offset().top-this.getPadding()):0},this.clickEvent=function(t,i){var s=this.getExistingHash(i);return!1===s||((s!==window.location.hash||!1!==this.historyIE&&s!==this.historyIE.hash)&&(t.preventDefault(),this.scrollTo(s,i,!0),this.setHistory(i)),!1)},this.scrollEvent=function(){var i=!1,s=0,n=a(window).scrollTop()+this.getPadding();n<=this.getPadding()&&(n=0),this.list.each(function(){var t=e.getExistingHash(this);!t||0===a(t).length||(t=Math.round(a(t).offset().top))<=n&&(!1===i||s<t)&&(s=t,i=this)}),i&&i!==this.active&&this.setActive(i,!1)},this.loadInclude=function(t){a(t).find("a").each(function(){var t=e.getExistingHash(this);!1!==t&&a(this).click(function(){return e.scrollTo(t,this,!0),!1})})},this.load=function(){for(var t in this.list=a(this).find((this.parentElm?this.parentElm+" ":"")+"a"),0!==this.list.length&&a(this.list).click(function(t){return e.clickEvent(t,this)}),this.include)this.loadInclude(this.include[t])},this.load(),this.activeClass&&a(window).scroll(function(){e.scrollEvent()});t=window.location.hash;this.onStart&&0===a(this).find(this.activeClass).length&&(0===t.length?a(this).find(this.parentElm+":first-child"):a(this).find("a[href$='"+t+"']").closest(this.parentElm)).addClass(this.activeClass),0<t.length&&this.scrollTo(t)}}(jQuery);